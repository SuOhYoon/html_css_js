<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS OBJECT</title>
    <script>
        function showObject() {
            // JS의 객체는 별도의 클래스가 필요하지 않음
            // {} 가 객체, [] 가 배열
            let person = { name: "hong", email: "hong@naver.com", age: 28 };
            // 객체 전체 조회(자바처럼 toString을 오버라이딩 할 필요가 없음)
            console.log(person);

            // 객체 특정 요소 조회 방법 1
            console.log(person.name);

            // 객체 특성 요소 조회 방법 2
            console.log(person['name']);

            // Object.keys(객체명) : 객체의 키를 배열형태로 반환
            const keyArr = Object.keys(person);
            for (let i = 0; i < keyArr.length; i++) {
                console.log(person[keyArr[i]]);
                // console.log(keyArr[i]);
            }

            keyArr.forEach((key) => console.log(key + " : " + person[key]));

            // 객체의 변경
            person.age = 30;

            console.log(person.age);
        }

        function makeObject() {
            // 객체 생성 방법 1.리터럴 방식
            const person1 = { name: "hong", email: "hong@naver.com", age: 28 };

            console.log(person1);

            // 객체 생성 방법 2.빈 객체 생성 후 키와 값을 직접 추가
            const person2 = {};

            person2.name = "kim";
            person2['email'] = "kim@naver.com";
            person2.age = 30;
            person2.password = "1234";

            console.log(person2);

            // 객체 생성 방법 3. 단축속성명 방식 : key와 value값이 동일하게 사용될때 간편하게 객체 생성하는 방식
            const name = "lee";
            const age = 30;
            const person3 = { name, age };

            console.log(person3);

            // 객체안의 객체
            const obj1 = { key1: "value2" };
            const obj2 = { obj1 };

            console.log(obj2);

            // 스프레드 문법
            const obj3 = { a: 1, b: 2 };
            const obj4 = { ...obj3, c: 3 };

            console.log(obj4);

            const arr1 = [1, 2, 3];
            const arr2 = [...arr1, 4, 5];

            console.log(arr2);
        }

        function makeArr() {
            let fruits = ['사과', '배', '바나나'];

            // 배열 요소 추가 : Push
            fruits.push('포도');

            console.log(fruits);

            // 배열 요소값 마지막 꺼내기 : pop
            console.log(fruits.pop());
            console.log(fruits);

            // 배열의 접근 : 배열명[index]

            // 배열의 수정 
            fruits[0] = '오렌지';

            // filter, map
            const nums = [1, 2, 3, 4, 5, 6];
            const newNums1 = nums.filter(a => a % 2 == 0);

            console.log(newNums1);

            const newNums2 = nums.map(a => a * a);
            console.log(newNums2);
        }

        function makeObjArr() {
            const objArr = [{ name: 'hong1', age: 20 }, { name: 'hong2', age: 22 }, { name: 'hong3', age: 25 }];

            console.log(objArr);

            // objArr.forEach(obj => obj.email = 'test@naver.com');

            const newArr = objArr.map(a => { return { ...a, email: "test@naver.com" } });

            console.log(objArr);
            console.log(newArr);

        }

        function convertType() {
            let str1 = "10";
            let str2 = "hello";

            let num1 = Number(str1); // 문자를 숫자로 형변환
            console.log(typeof num1);

            num1 = String(num1); // 숫자를 문자로 형변환
            console.log(typeof num1);

            let num2 = Number(str2); // 숫자로 형변환 불가능한 것을 시도하면 NaN(Not a Number)를 리턴해줌
            console.log(num2);

            // ==은 타입은 체크하지 않음. ===은 타입까지 체크
            console.log(10 == "10"); // true (백엔드에서 json등을 통해서 넘어오는 데이터들은 전부 문자이기 때문에 이런방식을 사용할 경우 편리함을 제공해줌)
            console.log(10 === "10"); // false

            let var1; // undefined이 할당
            let var2=null; //null이 할당
            console.log(var1==var2); // true
            console.log(var1==var2); // false
        }
    </script>
</head>

<body>
    <h2>JavaScript 객체</h2>
    <button onclick="showObject()">객체 조회</button>

    <button onclick="makeObject()">객체 생성</button>

    <button onclick="makeArr()">배열 생성</button>

    <button onclick="makeObjArr()">배열안에 객체 생성</button>

    <button onclick="convertType()">형변환</button>
</body>

</html>